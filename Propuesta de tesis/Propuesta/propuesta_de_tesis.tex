\documentclass[12pt]{article}

\usepackage{graphicx}
\usepackage{epstopdf}
\usepackage[polish,spanish]{babel}
%\usepackage[english]{babel}
\usepackage[latin5]{inputenc}
\usepackage{hyperref}
\usepackage[left=3cm,top=3cm,right=3cm,nohead,nofoot]{geometry}
\usepackage{braket}
\usepackage{quotmark}
\usepackage{datenumber}
\usepackage{aas_macros}
%\usepackage{natbib}
%\newdate{date}{10}{05}{2013}
%\date{\displaydate{date}}

\begin{document}
\selectlanguage{spanish}
\begin{center}
\Huge
Búsqueda de estrellas variables extragalácticas usando algoritmos de Machine Learning

\vspace{3mm}
\Large Javier Alejandro Acevedo Barroso

\large
201422995


\vspace{2mm}
\Large
Director: Alejandro Garcia Varela

\normalsize
\vspace{2mm}

\today
\end{center}

\begin{abstract}
La clasificación de estrellas de acuerdo a las variaciones de su brillo es una de las actividades astronómicas más importantes desde finales del siglo XIX.
Esta ha llevado a la detección de estrellas binarias, al mejoramiento de la escala de distancias, y a fuertes avances en astrofísica estelar.
Por lo anterior, existen numerosos proyectos recolectando datos, en cantidades cada vez más grandes, con el fin de encontrar y clasificar estrellas variables.
Los métodos tradicionales de búsqueda de estas estrellas se vuelven ineficientes ante ese tamaño de datos. Entonces, es necesaria la exploración de diferentes técnicas para automatizar la búsqueda y tener una clasificación fiable las estrellas variables.

En este proyecto se busca entrenar un clasificador de estrellas variables que reciba series de tiempo y devuelva candidatos a estrellas variables.
Se procesarán datos públicos del proyecto Araucaria de la galaxia NGC 55, NGC 247 y NGC 7793  para obtener series de tiempo y utilizar el clasificador sobre ellas.
Se reducirán observaciones en los filtros B y V para 25 a 30 épocas tomadas con el instrumento Wide Field Imager del telescopio MPG/ESO en La Silla.
Se hará fotometría PSF y crossmatch de las observaciones utilizando la suite de software astronómico DAO de Peter Stetson, y se obtendrán series de tiempo.
Posteriormente, se usará el clasificador ya entrenado sobre las series y se generará un catálogo de estrellas candidatas.
Por último, se revisarán las candidatas y se reportarán las estrellas variables.
El objetivo final del proyecto es generar catálogos de estrellas variables en cada galaxia.

Como muestra de entrenamiento se utilizará las series de tiempo del proyecto OGLE (Optical Gravitational Lensing Experiment).
Para el clasificador se usarán algoritmos de vanguardia como: Random forest, Gradient boosted forest y diferentes arquitecturas de redes neuronales, entre otros.
El código se escribirá principalmente en Python 3 haciendo uso de librerías libres como Numpy, Scikit-learn, Astropy, etc. 
Dado el alto volumen de datos, se usará el Cluster de cómputo de alto rendimiento de la Facultad de Ciencias.
\end{abstract}

\normalsize
\section{Introducción}

%Introducción a la propuesta de Monografía. Debe incluir un breve resumen del estado del arte del problema a tratar. También deben aparecer citadas todas las referencias de la bibliografía (a menos de que se citen más adelante, en los objetivos o metodología, por ejemplo)

La clasificación de estrellas de acuerdo a sus propiedades ópticas ha sido una de las tareas más útiles de la astronomía y astrofísica moderna.
El proceso permite segregar estrellas y luego estudiar los mecanismos propios de cada categoría de forma independiente.
Por ejemplo, las primeras estrellas variables se registraron durante el siglo XV, pero no fue sino hasta principios del siglo XX que se clasificó sus curvas de luz y se estudiaron las propiedades de las diferentes clases; en particular, esto llevó al descubrimiento de la relación periodo-luminosidad en las variables Cefeidas \cite{1908AnHar..60...87L} y la formulación del mecanismo $\kappa$.

Adicionalmente, usando la relación periodo-luminosidad de una población de estrellas Cefeidas se puede medir su distancia a la tierra.
Esto se usa de la mano con calibraciones basadas en paralaje estelar para calcular distancias a galaxias cercanas y es parte fundamental de la escala de distancias.
Por lo anterior, todas las mediciones que impiquen distancias mayores a 10 Mpc dependen fuertemente del cálculo de distancias usando variables Cefeidas, en particular, el parámetro de Hubble.
Así, se vuelve esencial el mejoramiento de la precisión en la escala de distancias.
En este contexto, nace el \tqt{Araucaria Project}.

El Proyecto Araucaria es una colaboración iniciada en el año 2000 entre astrónomos de instituciones chilenas, estadounidenses y europeas; con el fin de mejorar la precisión de la escala de distancias.
El proyecto hizo seguimiento durante al menos un año y medio a diferentes galaxias cercanas con el fin de generar curvas de luz de sus poblaciones estelares, y usar las curvas para el cálculo de distancia.
Para el cálculo final de la distania se usó diferentes métodos dependiendo de las poblaciones obtenidas; en particular, si se encontró una población de estrellas Cefeidas, se usó el método de relación periodo-luminosidad.
Adicionalmente, un año después de cada toma de datos, estos se publican en el catálogo de ESO para uso de parte de la comunidad astronómica internacional.

Junto al proyecto Araucaria, está el proyecto OGLE (Optical Gravitational Lensing Experiment) \cite{1992AcA....42..253U}. OGLE busca encontrar evidencia de materia oscura a partir de su efecto de microlente gravitacional sobre estrelals de fondo. Para ello, construyeron en 1997 el telescopio de 1.3-m de Varsovia en el observatorio \tqt{Las Campanas} en Chile \cite{1997AcA....47..319U}; y desde entonces han mantenido un monitoreo fotométrico constante.
Entre los resultados del proyecto se encuentra un catálogos de estrellas variables con sus correspondientes curvas de luz.

Paralelamente, en los años noventa resurge el Machine Learning (aprendizaje de máquinas) como principal línea de investigación dentro de la Inteligencia Artifical, lo que llevó a un rápido avance en algoritmos y técnicas.
Sin embargo, los análisis de los proyectos mencionados anteriormente hacen uso de métodos más tradicionales de la astronomía para la búsqueda de estrellas variables, y no de los novedosos algoritmos de su época.
Con todo lo anterior, se vuelve interesante implementar un clasificador de estrellas variables usando algoritmos de Machine learning, entrenar el clasificador usando el catálogo de estrellas variables de OGLE, y utilizar el clasificador para encontrar estrellas variables en los datos públicos del proyecto Araucaria.%utilizar los datos públicos del Proyecto Araucaria para generar curvas de luz, luego usar los datos de OGLE para entrenar un clasifica

%las curvas de luz clasificadas de OGLE para entrenar un algoritmo capaz de segregar curvas de luz

%generó curvas de luz para las poblaciones estelares; y calculó distancias a partir de las curvas de luz clasificadas.

%Entre los grandes avances, se propone el método de Random Forest en 1995 \cite{598994}, y las redes neuronales recurrentes con Long Short Term Memory


\subsection*{Estado del arte}
TODO: aquí irían todas las citas a los papers del proyecto araucaria en las galaxias de interés, las citas al proyecto OGLE en sus catálogos de estrellas variables y proceso de clasificación, y también las citas a los papers de clasificación estelar con y sin machine learning.





\section{Marco Teórico}

A continuación se presenta brevemente los conocimientos necesarios para el desarrollo del proyecto.

\subsection{Araucaria Project}

El proyecto Araucaria nace en 2000 con el objetivo de mejorar la calibración de la escala de distancia en el universo local. Esto principalmente a través de estudiar y caracterizar los efectos de la edad y la metalicidad en la determinación de distancias usando poblaciones estelares \cite{2006MmSAI..77..239P}.

El proyecto hace uso del telescopio de Varsovia de 1.3m en el Observatorio de Las Campanas (LCO) y el telescopio MPG/ESO en el Observatorio de la Silla.
Ambos telescopios contando con algún instrumento de campo amplio.
Para las galaxias seleccionadas, los datos vendran principalmente del telescopio MPG/ESO con el instrumento Wide Field Imager.

Procedimentalmente, el proyecto hace fotometría durante largos periodos de tiempo a galaxias del Grupo Local y el Grupo Escultor.
Las imágenes se toman principalmente en los filtros fotométricos V e I, pero también hay noches con imágenes en los filtros B y R.
Para el cálculo de distancia el proyecto utiliza diferentes métodos como la relación periodo-luminosidad de las estrellas de tipo Cefeidas, la relación brillo superficial-color de las estrellas binarias, entre otros.
Por último, las galaxias estudiadas fueron: LMC, SMC, Carina, Fornax, Sculptor, IC1613, M33, M81, NGC55, NGC247, NGC300, NGC3109, NGC6822, NGC7793, WLM.
De esas, se usará las imágenes de NGC55, NGC247 y NGC7793.




\subsection{Generación de curvas de luz}

TODO: hablar del proceso de reducción de las imagenes, de la fotometría psf,  del crossmatch 

\subsection{Clasificación usando Machine Learning}
TODO: hablar de los algoritmos a usar: Random Forest, redes neuranales, redes LSTM.
Hablar del espacio de features y estadistica robusta.

\section{Objetivo general}

Crear catálogos de estrellas variables sobre galaxias del proyecto Araucaria usando algoritmos de Machine Learning para automatizar la búsqueda y clasificación.




\section{Objetivos específicos}

%Objetivos específicos del trabajo. Empiezan con un verbo en infinitivo.

\begin{itemize}
	\item Realizar fotometría PSF usando los datos públicos de alguna de las galaxias del proyecto Araucaria tales, como NGC55, NGC247 y NGC7793, con el fin de generar series de tiempo de magnitud para su población estelar.
	\item Definir un espacio de características significativas de las curvas de luz, y proyectar las curvas en ese espacio.
		\item Diseñar y entrenar un clasificador de estrellas variables utilizando el catálogo de series de tiempo del proyecto OGLE (Optical Gravitational Lensing Experiment).
	\item Reencontrar las variables Cefeidas previamente reportadas para esas galaxias.
	\item Generar un catálogo de estrellas candidatas a estrellas variables con los datos del proyecto Araucaria utilizando el clasificado.
	\item Encontrar las estrellas de tipo Cefeida previamente detectadas en las galaxias de interés.
	\item Generar un catálogo final de estrellas variables para la galaxia elegida y diagramas de magnitud-color y color-color.
	\item Generar diagramas de magnitud-color y color-color para las estrellas variables de las galaxias, así como relación periodo-luminosidad de las variables Cefeidas.
\end{itemize}

\section{Metodología}

%Exponer DETALLADAMENTE la metodología que se usará en la Monografía. 
El proyecto es tiene una parte fuerte computacional.
Se requiere el uso del Cluster de cómputo de alto rendimiento tanto para la reducción de datos, como para entrenar el clasificador.
A continuación se presentan los requerimientos computacionales del proyecto.

Se descargará imagenes para una galaxia del proyecto Araucaria.
Se espera tener datos para al menos veintiocho noches.
El proyecto toma cinco imágenes por noche por filtro en los filtros B, V, R e I.
El total de las imágenes ciencia para una galaxia ocupa alrededor de 35 a 40 Gigabytes.
Al incluir las imágenes para la corrección de Bias, Flat y Dark; se estima unos 50 Gigabytes.
Adicionalmente, durante la reducción se crean archivos temporales de tamaño considerable, por lo que se requiere espacio extra disponible.
Por último, para entrenar el clasificador se utilizará los datos del proyecto OGLE, que pesan menos de 10 Gigabytes.
En total, se estima un requisito total de almacenamiento de 120 Gigabytes.

Los algoritmos se escribirán en Python usando librerías de alta eficiencia y optimización como Pytorch, Scikit-learn, Numpy, entre otras. 
El entrenamiento del clasificador se hará en paralelo usando multiples CPUs y cuando sea posible, multiples GPUs. 
Para el entrenamiento paralelo en GPUs se utilizará Nvidia CUDA.

Los requisitos de memoria no son tan rígidos porque se puede entrenar el clasificador usando \tqt{batches} de datos en vez de la muestra completa; y la reducción de imágenes astronómicas está optimizada para usar poca memoria, pues los programas a usar fueron escritos cuando la memoria RAM disponible era ordenes de magnitud menor.
Por lo tanto, los cuatro Gigabytes de memoria por CPU y GPU del Cluster es suficiente.


Se descargará unas pocas noches de algunas galaxias del proyecto Araucaria con el fin de elegir la galaxia a trabajar.
Una vez decidida la galaxia, se descargará todas las observaciones del proyecto en los diferentes filtos.
Siguiente, se realizará las correcciones de  astronómico IRAF, en particular las tareas ESOWFI y MSCRED, pues fueron escritas particularmente para el tipo de datos a utilizar.


%Monografía teórica o computacional: ¿Cómo se harán los cálculos teóricos? ¿Cómo se harán las simulaciones? ¿Qué requerimientos computacionales se necesitan? ¿Qué espacios físicos o virtuales se van a utilizar?

%Monografía experimental: Recordar que para ser aprobada, los aparatos e insumos experimentales que se usarán en la Monografía deben estar previamente disponibles en la Universidad, o garantizar su disponibilidad para el tiempo en el que se realizará la misma. ¿Qué montajes experimentales se van a usar y que material se requiere? ¿En qué espacio físico se llevarán a cabo los experimentos? Si se usan aparatos externos, ¿qué permisos se necesitan? Si hay que realizar pagos a terceros, ¿cómo se financiará esto?


\section{Cronograma}
A continuación se presenta el cronograma del proyecto.
Los periodos tienen una duración de dos semanas cada uno.
Dado que se debe entregar la primera versión del documento final en la semana 11 del segundo semestre de ejecución del proyecto, se diseñó el cronograma con 13 periodos, o 26 semanas.


\begin{table}[htb]
	\begin{tabular}{|c|cccccccccccccc| }
	\hline
	Tareas $\backslash$ Periodo & 1 & 2 & 3 & 4 & 5 & 6 & 7 & 8 & 9 & 10 & 11 & 12 & 13 &  \\
	\hline
	1 & X & X & X &  X &  X &  X & X  & X &  &   &   &   &     & \\
	2 & X & X & X & X  &   &   &   &  &  &   &   &   &     & \\	
	3 &  &  &  & X & X  & X  &  X &  &  &   &   &   &      &\\
	4 &  &  &  &   & X & X  & X  & X & X &   &   &   &      &\\
	5 & X & X & X & X & X  &  X & X  &  &  &   &   &   &     & \\
	6 & X & X &  & X  & X & X  & X  &  &  &   &   &   &      &\\
	7 &  &  & X &  X & X  & X  & X  & X & X & X  &   &   &   &   \\
	8 &  &  &  &   &   &  X &  X & X & X &  X &   &   &      &\\
	9 &  &  &  &   &   &   &   & X & X & X  & X  & X  & X    & \\
	10 &  &  &  &   &   &   & X  & X &  &   &  X &  X &   X  & \\ 
	11 & X & X & X & X  & X  & X  &  X & X & X & X  & X  & X  &  X &\\   \hline
	\end{tabular}
\end{table}
\vspace{1mm}


\begin{itemize}
	\item Tarea 1: revisión bibliográfica.
	\item Tarea 2: descargar las galaxias del repositorio público de ESO correspondientes al proyecto Araucaria, así como las imágenes de calibración y realizar el correspondiente procesamiento.
	\item Tarea 3: realizar fotometría PSF sobre las imágenes procesadas y obtener catálogos de magnitud y coordenadas.
	\item Tarea 4: realizar el cross-matching de las estrellas en los catálogos de fotometría para obtener las series de tiempo.
	\item Tarea 5: definir un espacio de características en el que se pueda proyectar las curvas de luz reteniendo la mayor cantidad de información para la implementación del método supervisado.
	\item Tarea 6: construir la muestra de entrenamiento con las estrellas clasificadas del proyecto OGLE y proyectarlas al espacio de características.
	\item Tarea 7: diseñar un clasificador usando algoritmos de Machine Learning y explorar el espacio de hiperparámetros para optimizar los resultados.
	\item Tarea 8: usar el clasificador sobre las curvas de luz generadas y formar un catálogo de estrellas candidatas. 
	\item Tarea 9: Inspeccionar las estrellas candidatas,  determinar periodos, y reportar el catálogo final de estrellas variables.
	\item Tarea 10: preparar presentaciones del proyecto.
	\item Tarea 11: escribir el documento.
	
\end{itemize}


\section{Personas Conocedoras del Tema}

%Nombres de por lo menos 3 profesores que conozcan del tema. Uno de ellos debe ser profesor de planta de la Universidad de los Andes.

\begin{itemize}
	\item Dra. Beatriz Eugenia Sabogal Martínez (Universidad de los Andes)
	\item Dr. Ronnald Mennickent (Universidad de Concepción)
	\item Dr. Grzegorz Pietrzynsky (Universidad de Concepción)	
	\item Dr. Igor Soszy\'nski (Universidad de Varsovia)
\end{itemize}



\section{Consideraciones éticas}
Todos los datos que se planea usar son públicos y se encuentran disponibles en el catálogo del Observatorio Europeo Austral (ESO, por sus siglas en inglés).
Todo el software utilizado para el desarrollo del proyecto es software Libre.
No se modificará ninguna muestra de datos.
En caso de hacer uso de algoritmos ya propuestos, se incluirá la debida referencia y citación en el documento final.



\selectlanguage{polish}
\bibliography{mybib}
\bibliographystyle{plain}


\section*{ }

\rule{5.3cm}{0.01cm} \hfill \rule{6.3cm}{0.01cm}


Dr. Alejandro Garcia Varela. \hfill \hspace*{0mm}\phantom{Firma: }Javier Alejandro Acevedo Barroso.

Director. \hspace{6.70cm} Estudiante 201422995

\end{document} 